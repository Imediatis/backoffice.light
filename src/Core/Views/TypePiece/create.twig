{% extends session.coreShareViewsF ~ "layout.twig" %}
{% block styles %}
    <style></style>
{% endblock styles %}
{% block content %}
    <div class="row">
        <div class="col-lg-offset-2 col-lg-7">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>
                        <i class="fa fa-user m-r-sm"></i>
                        {{LexiqueGetString('new-type-of-document')}}</h5>
                </div>
                <div class="ibox-content">
                    <form class="form-horizontal" action="{{path_for('tpiece.pcreate')}}" method="post" name="new_tpiece" id="new_tpiece" enctype="multipart/form-data">
                        {{ getCsrfInput() }}
                        <div class="form-group">
                            {{flashMsg()}}
                        </div>
                        <div class="form-group">
                            <div class="col-lg-6">
                                <label class="col-lg-12 m-b-10" for="tb_tdoc_code">{{LexiqueGetString('code')}}<code>*</code>
                                </label>
                                <div class="col-lg-12">
                                    <input id="tb_tdoc_code" name="tb_tdoc_code" class="form-control b-r-sm" type="text" maxlength="15" placeholder="{{LexiqueGetString('code')}}*" value="{{Model.code}}" required data-msg-required="{{LexiqueGetString('required-fields')}}"/>
                                    <span class="help-block m-b-none text-danger">{{modelErrors.tb_tdoc_code}}</span>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <label class="col-lg-12 form-label m-b-10" for="tb_tdoc_label">{{LexiqueGetString('label')}}<code>*</code>
                                </label>
                                <div class="col-lg-12">
                                    <input id="tb_tdoc_label" name="tb_tdoc_label" class="form-control b-r-sm" type="text" maxlength="80" placeholder="{{LexiqueGetString('label')}}" value="{{Model.label}}" required data-msg-required="{{LexiqueGetString('required-fields')}}"/>
                                    <span class="help-block m-b-none text-danger">{{modelErrors.tb_tdoc_label}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-12">
                                <hr class="hr-line-dashed">
                            </div>
                            <div class="col-lg-12">
                                <label class="text-right m-l-lg">
                                    <code>*</code>
                                    <small>{{LexiqueGetString('required-fields')}}</small>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-6 col-lg-12 mb-20">
                                {{goBack('tpiece.read')}}
                            </div>
                            <div class="col-lg-6 col-lg-12">
                                <button class="btn btn-md btn-primary g-bg-primary-opacity-0_8--hover g-mr-10 pull-right" id="sendComplaint" type="submit">
                                    {{LexiqueGetString('save')}}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
{% endblock content %}
{% block scripts %}
    <script src="{{ base_url() }}/js/plugins/validate/jquery.validate.min.js"></script>
    <script>
        $(document).ready(function () {

            $('#new_tpiece').validate({
                rules: {
                    tb_tdoc_code: {
                        required: true,
                        maxlength: 15
                    },
                    tb_tdoc_label: {
                        required: true,
                        maxlength: 80
                    }
                },
                messages: {
                    tb_tdoc_code: {
                        required: "{{LexiqueGetString('this-field-is-required')}}",
                        maxlength: jQuery.validator.format("{{LexiqueGetString('this-field-accept-maximum')}}")
                    },
                    tb_tdoc_label: {
                        required: "{{LexiqueGetString('this-field-is-required')}}",
                        maxlength: jQuery.validator.format("{{LexiqueGetString('this-field-accept-maximum')}}")
                    }
                }

            })
        });
    </script>
{% endblock scripts %}
