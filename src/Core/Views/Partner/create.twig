{% extends session.coreShareViewsF ~ "layout.twig" %}
{% block styles %}
    <style></style>
{% endblock styles %}
{% block content %}
    <div class="row">
        <div class="col-lg-offset-2 col-lg-7">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>
                        <i class="fa fa-user m-r-sm"></i>
                        {{LexiqueGetString('new-partner')}}</h5>
                </div>
                <div class="ibox-content">
                    <form class="form-horizontal" action="{{path_for('partner.pcreate')}}" method="post" name="new_partner" id="new_partner" enctype="multipart/form-data">
                        {{ getCsrfInput() }}
                        <input type="hidden" name="tb_id_part" id="tb_id_part" value="{{Model.id}}">

                        <div class="form-group">
                            {{flashMsg()}}
                        </div>
                        <div class="form-group">
                            <div class="col-lg-6">
                                <label class="col-lg-12 m-b-10" for="tb_code_part">{{LexiqueGetString('code')}}<code>*</code>
                                </label>
                                <div class="col-lg-12">
                                    <input id="tb_code_part" name="tb_code_part" class="form-control b-r-sm" type="text" maxlength="10" placeholder="{{LexiqueGetString('code')}}*" value="{{Model.code}}" required data-msg-required="{{LexiqueGetString('required-fields')}}">
                                    <span class="help-block m-b-none text-danger">{{modelErrors.tb_code_part}}</span>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <label class="col-lg-12 form-label m-b-10" for="tb_name_part">{{LexiqueGetString('name')}}</label>
                                <div class="col-lg-12">
                                    <input id="tb_name_part" name="tb_name_part" class="form-control b-r-sm" type="text" maxlength="120" placeholder="{{LexiqueGetString('name')}}" value="{{Model.name}}">
                                    <span class="help-block m-b-none text-danger">{{modelErrors.tb_name_part}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-12">
                                <hr class="hr-line-dashed">
                            </div>
                            <div class="col-lg-12">
                                <label class="text-right m-l-lg">
                                    <code>*</code>
                                    <small>{{LexiqueGetString('required-fields')}}</small>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-6 col-lg-12 mb-20">
                                {{goBack('partner.read')}}
                            </div>
                            <div class="col-lg-6 col-lg-12">
                                <button class="btn btn-md btn-primary g-bg-primary-opacity-0_8--hover g-mr-10 pull-right" id="sendComplaint" type="submit">
                                    {{LexiqueGetString('save')}}
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
{% endblock content %}
{% block scripts %}
    <script src="{{ base_url() }}/js/plugins/validate/jquery.validate.min.js"></script>
    <script>
        $(document).ready(function () {

            $('#new_partner').validate({
                rules: {
                    tb_code_part: {
                        required: true,
                        maxlength: 10
                    },
                    tb_name_part: {
                        required: true,
                        maxlength: 120
                    }
                },
                messages: {
                    tb_code_part: {
                        required: "{{LexiqueGetString('this-field-is-required')}}",
                        maxlength: jQuery.validator.format("{{LexiqueGetString('this-field-accept-maximum')}}")
                    },
                    tb_name_part: {
                        required: "{{LexiqueGetString('this-field-is-required')}}",
                        maxlength: jQuery.validator.format("{{LexiqueGetString('this-field-accept-maximum')}}")
                    }
                }

            })
        });
    </script>
{% endblock scripts %}
